<!doctype html>
<html ng-app>
    <head>
        <title>Iterate</title>
        <link rel="stylesheet" type="text/css" href="style.css" />
    </head>

    <body>
        <div class="container" data-ng-controller="CustomersController">
            <h2>Customers</h2>

            Filter by name: <input type="text" ng-model="customerFilter.name" /><br/><br/>

            <table>
                <tr>
                    <th ng-click="sortBy='name'; reverse=!reverse">Name</th>
                    <th ng-click="sortBy='city'; reverse=!reverse">City</th>
                    <th ng-click="sortBy='orderTotal'; reverse=!reverse">Order Total</th>
                    <th ng-click="sortBy='joined'; reverse=!reverse">Joined</th>
                </tr>

                <tr ng-repeat="customer in customers | limitTo:3 | orderBy:sortBy:reverse | filter:customerFilter">
                    <td>{{ customer.name | uppercase }}</td>
                    <td>{{ customer.city }}</td>
                    <td>{{ customer.orderTotal | currency }}</td>
                    <td>{{ customer.joined | date:'dd MMM yyyy' }}</td>
                </tr>
            </table>

            <br/>

            <span>Total customers: {{ customers.length }} </span>
        </div>

        <script src="angular.js" type="application/javascript"></script>
        <script src="app/CustomersController.js" type="application/javascript"></script>
    </body>
</html>
